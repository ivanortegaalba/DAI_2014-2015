import web
from web import form
from web.contrib.template import render_mako

render = web.template.render('templates/')

urls = ('/', 'index')
app = web.application(urls, globals())

makos = render_mako(
        directories=['templates'],
        input_encoding='utf-8',
        output_encoding='utf-8',
        )

myform = form.Form(
    form.Textbox('Usuario'),
    form.Textbox('Contrasena'))

class index:
    def GET(self):
        login_form = myform()

        return makos.mako_template(form = login_form) 

    def POST(self):
        login-form = myform()
        if not form.validates():
            return render.formtest(form)
        else:
            # form.d.boe and form['boe'].value are equivalent ways of
            # extracting the validated arguments from the form.
            return "Pronto contactaremos con usted %s!  Le enviaremos un email a: %s" % (form['Nombre'].value, form['Email'].value)

if __name__=="__main__":
    web.internalerror = web.debugerror
    app.run()
